<?xml version="1.0" encoding="utf-8"?>
<Container version="2">
  <Name>SendRec</Name>
  <Repository>ghcr.io/sendrec/sendrec:latest</Repository>
  <Registry>https://ghcr.io</Registry>
  <Network>bridge</Network>
  <Shell>sh</Shell>
  <Privileged>false</Privileged>
  <Support>https://github.com/sendrec/sendrec/issues</Support>
  <Project>https://sendrec.eu</Project>
  <Overview>Open-source async video platform for teams. Record your screen, share with your team, keep full control of your data. Self-hosted alternative to Loom â€” GDPR native, EU hosted.</Overview>
  <Category>Productivity: MediaServer:</Category>
  <WebUI>http://[IP]:[PORT:8080]</WebUI>
  <TemplateURL>https://raw.githubusercontent.com/sendrec/sendrec/main/unraid-template.xml</TemplateURL>
  <Icon>https://raw.githubusercontent.com/sendrec/sendrec/main/web/public/images/logo.png</Icon>
  <ExtraParams/>
  <Requires>Requires a PostgreSQL database and S3-compatible storage (e.g. MinIO). See https://github.com/sendrec/sendrec/blob/main/SELF-HOSTING.md</Requires>

  <Config Type="Port" Name="Web UI" Target="8080" Default="8080" Mode="tcp" Description="SendRec web interface port" Display="always" Required="true">8080</Config>

  <Config Type="Variable" Name="DATABASE_URL" Target="DATABASE_URL" Default="postgres://sendrec:secret@host.unraid.net:5432/sendrec?sslmode=disable" Description="PostgreSQL connection string" Display="always" Required="true">postgres://sendrec:secret@host.unraid.net:5432/sendrec?sslmode=disable</Config>

  <Config Type="Variable" Name="JWT_SECRET" Target="JWT_SECRET" Default="" Description="Secret for signing auth tokens. Generate with: openssl rand -hex 32" Display="always" Required="true" Mask="true"/>

  <Config Type="Variable" Name="BASE_URL" Target="BASE_URL" Default="http://localhost:8080" Description="Public URL of the app (e.g. https://videos.example.com)" Display="always" Required="true">http://localhost:8080</Config>

  <Config Type="Variable" Name="S3_ENDPOINT" Target="S3_ENDPOINT" Default="http://host.unraid.net:9000" Description="S3-compatible API endpoint (MinIO)" Display="always" Required="true">http://host.unraid.net:9000</Config>

  <Config Type="Variable" Name="S3_PUBLIC_ENDPOINT" Target="S3_PUBLIC_ENDPOINT" Default="" Description="Public URL for S3 storage (for presigned URLs). Leave empty if S3_ENDPOINT is reachable from browsers" Display="always" Required="false"/>

  <Config Type="Variable" Name="S3_BUCKET" Target="S3_BUCKET" Default="recordings" Description="S3 bucket name for video storage" Display="always" Required="true">recordings</Config>

  <Config Type="Variable" Name="S3_ACCESS_KEY" Target="S3_ACCESS_KEY" Default="" Description="S3 access key" Display="always" Required="true" Mask="true"/>

  <Config Type="Variable" Name="S3_SECRET_KEY" Target="S3_SECRET_KEY" Default="" Description="S3 secret key" Display="always" Required="true" Mask="true"/>

  <Config Type="Variable" Name="MAX_VIDEOS_PER_MONTH" Target="MAX_VIDEOS_PER_MONTH" Default="0" Description="Max videos per user per month. 0 = unlimited" Display="advanced" Required="false">0</Config>

  <Config Type="Variable" Name="MAX_VIDEO_DURATION_SECONDS" Target="MAX_VIDEO_DURATION_SECONDS" Default="0" Description="Max recording duration in seconds. 0 = unlimited" Display="advanced" Required="false">0</Config>

  <Config Type="Variable" Name="TRANSCRIPTION_ENABLED" Target="TRANSCRIPTION_ENABLED" Default="false" Description="Enable automatic video transcription with whisper.cpp" Display="advanced" Required="false">false</Config>

  <Config Type="Path" Name="Whisper Models" Target="/models" Default="/mnt/user/appdata/sendrec/models" Description="Path to whisper.cpp model files (only needed if transcription is enabled)" Display="advanced" Required="false" Mode="ro">/mnt/user/appdata/sendrec/models</Config>

  <Config Type="Variable" Name="WHISPER_MODEL_PATH" Target="WHISPER_MODEL_PATH" Default="/models/ggml-small.bin" Description="Path to whisper model file inside the container" Display="advanced" Required="false">/models/ggml-small.bin</Config>

  <Config Type="Variable" Name="API_DOCS_ENABLED" Target="API_DOCS_ENABLED" Default="false" Description="Serve interactive API docs at /api/docs" Display="advanced" Required="false">false</Config>

  <Config Type="Variable" Name="BRANDING_ENABLED" Target="BRANDING_ENABLED" Default="true" Description="Allow users to customize watch page branding" Display="advanced" Required="false">true</Config>
</Container>
